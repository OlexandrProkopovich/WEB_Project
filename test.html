<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Опитування</title>
<link rel="stylesheet" href="css/test.css">
</head>
<body>

<form id="surveyForm">

  <label for="email">Введіть ваш email:</label><br>
  <input type="email" id="email" name="email"><br><br>

  <label for="age">Ваш вік:</label><br>
  <input type="number" id="age" name="age" min="18" max="100"><br><br>

    <label for="faculty">На якому факультеті ви навчаєтесь?</label><br>
    <select id="faculty" name="faculty">
        <option value="Електроніки">Електроніки</option>
        <option value="Філософії">Філософії</option>
        <option value="Міжнародний">Міжнародний</option>
    </select><br><br>

    <label>Виберіть потік на якому ви навчаєтесь:</label><br>
    <input type="radio" id="stream1" name="stream" value="Потік 1">
    <label for="stream1">Потік 1</label><br>
    <input type="radio" id="stream2" name="stream" value="Потік 2">
    <label for="stream2">Потік 2</label><br><br>

    <label>Вкажіть групу:</label><br>
    <input type="checkbox" id="group1" name="group" value="ФЕІ-21">
    <label for="group1">ФЕІ-21</label><br>
    <input type="checkbox" id="group2" name="group" value="ФЕІ-22">
    <label for="group2">ФЕІ-22</label><br>
    <input type="checkbox" id="group3" name="group" value="ФЕІ-23">
    <label for="group3">ФЕІ-23</label><br>
    <input type="checkbox" id="group4" name="group" value="ФЕІ-24">
    <label for="group4">ФЕІ-24</label><br>
    <input type="checkbox" id="group5" name="group" value="ФЕІ-25">
    <label for="group5">ФЕІ-25</label><br>
    <input type="checkbox" id="group6" name="group" value="ФЕІ-26">
    <label for="group6">ФЕІ-26</label><br>

    <label for="averageGrade">Вкажіть середній бал:</label><br>
    <input type="number" id="averageGrade" name="averageGrade" step="0.01" min="0" max="5"><br><br>

    <label for="favoriteColor">Ваш улюблений колір:</label><br>
    <input type="text" id="favoriteColor" name="favoriteColor"><br><br>

    <label for="hobbies">Вкажіть ваші хобі (виберіть одне або кілька):</label><br>
    <select id="hobbies" name="hobbies" multiple>
        <option value="Читання">Читання</option>
        <option value="Спорт">Спорт</option>
        <option value="Музика">Музика</option>
        <option value="Готування">Готування</option>
        <option value="Подорожі">Подорожі</option>
    </select><br><br>

    <label for="interviewTime">Виберіть зручний час для проходження співбесіди:</label><br>
    <input type="datetime-local" id="interviewTime" name="interviewTime"><br><br>

    <label for="comments">Ваші коментарі:</label><br>
    <textarea id="comments" name="comments" rows="4" cols="50"></textarea><br><br>

    <input type="submit" value="Відправити">
</form>
<script>
  const form = document.getElementById('surveyForm');

const timestamp = Date.now();

form.addEventListener('submit', function(event) {
    event.preventDefault(); 

    const formData = new FormData(this);
    const surveyData = {};

    for (const [key, value] of formData.entries()) {
        surveyData[key] = value;
    }

    const timestamp = Date.now();
    const uniqueKey = `surveyData_${timestamp}`;

    localStorage.setItem(uniqueKey, JSON.stringify(surveyData));
});

form.addEventListener('submit', function(event) {
    event.preventDefault(); // Зупиняємо стандартну поведінку форми

    const formData = new FormData(this);
    const surveyData = {};

    for (const [key, value] of formData.entries()) {
        surveyData[key] = value;
    }
    const uniqueKey = `surveyData_${timestamp}`;

    if (surveyData.faculty === "Електроніки") {
        window.location.href = "https://electronics.lnu.edu.ua/";
    } else if (surveyData.faculty === "Філософії") {
        window.location.href = "https://filos.lnu.edu.ua/en/department/filosofii";
    } else if (surveyData.faculty === "Міжнародний") {
        window.location.href = "https://intrel.lnu.edu.ua/";
    } else {
        // Зберігаємо дані опитування в LocalStorage під унікальним ключем
        localStorage.setItem(uniqueKey, JSON.stringify(surveyData));

        // Очистити форму після відправлення
        this.reset();

        alert('Дякуємо за участь у опитуванні!');
    }
});

</script>

</body>
</html>
